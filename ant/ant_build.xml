<?xml version="1.0" encoding="UTF-8"?>
<project name="Ant Build">
	
	<property name="src.dir" value="${basedir}/../src" />
	<property name="release.dir" value="${basedir}/../build" />
	<property name="docs.dir" value="${basedir}/../docs" />
	<property name="main.class" value="com.thesven.audio.soundcontroller.SoundController.as" />
	<property name="project.name" value="SoundManager" />
	<property name="swc.name" value="SoundController_v.001.swc" />
	<property name="asdoc.loc.win" value="c:/flex_sdk_3.5a/bin/asdoc.exe" />
	<property name="asdoc.loc.mac" value="c:/flex_sdk_3.5a/bin/asdoc" />
	<property name="optimizer.loc" value="c:/flex_sdk_3.5a/lib/optimizer.jar" />
	
	<target name="compile-swc">
		<echo>[reset] resetting fcsh</echo>
		<fdt.launch.resetFCSH/>
		
		<echo>[compile] Compiling release SWC</echo>
		<fdt.launch.library projectname="${project.name}"
							target="${release.dir}/${swc.name}"
							compilerarguments="-target-player=10
											   -use-network=false"/>
	</target>
		
	<target name="generate-docs-mac">
		<echo>[generating] documentation on mac</echo>
		<exec executable="${asdoc.loc.mac}">
			<arg line="-doc-sources '${src.dir}'
					   -output '${docs.dir}'
					   -main-title 'SoundController'
					   -window-title 'SoundController API Docs'
				       -target-player=10"/>
		</exec>
	</target>
	
	<target name="generate-docs-win">
		<echo>[generating] documentation on windows</echo>
		<exec executable="${asdoc.loc.win}">
			<arg line="-doc-sources '${src.dir}'
					   -output '${docs.dir}'
					   -main-title 'SoundController'
					   -window-title 'SoundController API Docs'
				      -target-player=10"/>
		</exec>
	</target>
	
</project>